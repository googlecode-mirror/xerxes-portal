#summary Configuration options

==alternate_fulltext_harvest_address==

The URL that Xerxes should point its SFX 'availability populate' action at, if different from [Configuration#link_resolver_address link_resolver_address].  This is particularly useful if you you use a different front-end application to SFX -- e.g., Umlaut -- and have the link_resolver_address configured for that.

==alternate_yahoo_location==

Location of an alternate 'relay' script for the Yahoo Spell Check API.  Since the Yahoo API has a daily limit based on IP address, this allows you to route some spell checking through another server in order to distribute the load.  This is particularly useful if you have multiple institutions hosted on the same server.

==application_name==

The 'name' of your Xerxes application.  By default, Xerxes only displays this in the browser title bar, as a prefix to each page name.  This can simply be the name of your university or library.

==application_sid==

The source identifier (sid) that Xerxes will include in each OpenURL.  This can be anything, really, and is useful for distinguishing Xerxes requests in SFX, both for display logic and statistical reasons.  Xerxes will also append the full name of the database to the sid.

==authentication_source==

The source against which you will authenticate users; valid values include:
     
  * *ldap* for a simple bind to an ldap-enabled directory server, including Active Directory
  * *innovative* for authentication against the Innovative Patron API
  * *cas* for authentication against a Central Authentication Source server
  * *demo* for a simple demo set-up when you don't want to configure a directory
  * *shibboleth* for Shibboleth authentication using a local configured shibd.
  * *custom* to use the script in demo/config/authentication/custom.php, where you can write your own authentication code
		
===authentication_source id=other===

Specify additional authentication_sources Xerxes can accept. Set 'id' to one of the authentication sources [Configuration#authentication_source mentioned above].  You can send users to these alternate login pages by adding `&authentication_source=id` to the login page URL, changing 'id' to the value you entered here.

==base_web_path==

The base web server path for your Xerxes installation. _DO NOT_ add a trailing slash. If you have installed at web root, leave this value empty. 

==cas_version==

The version of CAS you're running, either '1.0' or '2.0'.  If you are using a version higher than 2.0, just enter '2.0'.

==cas_login==

Full URL to the CAS login service.

==cas_validate==

Full URL to the CAS validate service.

==categories_quicksearch==

The 'normalized ID' of the category that should be used for the 'Quick Search' box on the Xerxes home page.  The normalized ID is a value that Xerxes constructs from the name of the category.  If you have Xerxes up and running, simply click on the category you want to use and look in the browser address bar.  The normalized ID is either the last part of the URL (if you have rewrite turned on) or is the value of `&subject=` if you do not.

==categories_num_columns==

The number of columns for the list of subjects on the home page. Enter either '2' or '3'. Useful if you are working in a smaller, fixed-width design, where two columns can allow for more readable text. If you want more columns, you'll need to customize the page itself.  

==database_connection==

The [http://us.php.net/manual/en/pdo.construct.php PDO connection string] to the database.  If you are using MySQL and called your database/schema 'xerxes', then the default value in config.xml is all you need.  If you called it something else, then change just the database name.

==database_list_searchable==

Setting this to `true` will show a search box in the alphabetical database list, allowing users to search for databases by name or other descriptive information in the Metalib IRD.  Caution: users often mistakenly think that this searches the actual databases themselves (i.e., for articles and books), rather than merely a search of their descriptions.  This is off by default for a reason.  Consider whether you really need it.

==database_password==

The password of the account that is set-up to access the (MySQL) database.

==database_username==

The username of the account that is set-up to access the (MySQL) database.

==db_description_allow_tags==

A white list of HTML tags _NOT_ to strip in database descriptions. Only used if [Configuration#db_description_html db_description_html] is set to 'strip'. Tags listed here (comma separated) will NOT be stripped, but will be allowed. All other tags will be stripped.

==db_description_html==

Instructs Xerxes to strip out HTML tags in database description. Possible values:
                
  * *escape* escapes all HTML so it shows up as source
  * *allow* allows all HTML through as code. NOT recommended. Suggest you use strip with some tags in db_description_allow_tags instead. 
  * *strip* strips out all HTML tags. May be used in combination with [Configuration#db_description_allow_tags db_description_allow_tags] to allow for certain exceptions.

==default_collection_name==

The default name that should be used for new collections in 'My Saved Databases'.  NOTE: If you change this value _after_ you have already deployed Xerxes with 'My Saved Databases' functionality, users may see somewhat confusing behavior (although no errors). Try it yourself to see. You may want to change the names of all existing collections with the older names by using direct SQL.

==default_collection_section_name==

The default name that should be used for new sections in 'My Saved Databases'.  See [Configuration#default_collection_name note above] if you change this after deployment.

==demo_users==

List of users who can access the system without being in the local directory server. Enter as username:password and separate entries by comma.  If you have [Configuration#authentication_source chosen a 'local' authentication option]  (i.e., something other than CAS or Shibboleth), you can authenticate demo users using your _main_ login page.  If you are using CAS or Shibboleth, you'll need to point demo users to an alternate login page, as mentioned above.

==directory_server==

If [Configuration#authentication_source authentication_source] is set to 'ldap', then this specifies the directory server against which you will do the LDAP authentication

==display_errors==

Set this to `true` to see the full stack trace error from PHP in the page instead of the Xerxes error page.

==document==

Specifies a width for the interface.  Xerxes uses the [http://developer.yahoo.com/yui/grids/ Yahoo Grids CSS framework] for basic layout.  The value here represents the 'id' of the main `<`div`>` of the layout.  Pre-set widths in the Yahoo framework, include:

  * *doc* -- 750px
  * *doc2* -- 950px
  * *doc3* -- 100%
  * *doc4* -- 974px,

If you want to use a different width, simply leave the value as 'doc3', and in your local.css file, manually set the width.  For example, set to 800px like this:

{{{
#doc3 { 
  width: 800px;
}
}}}

==domain==

If [Configuration#authentication_source authentication_source] is set to `ldap`, then this specifies the domain for the LDAP bind.

==email_from==

Specify an explicit 'from' address that Xerxes will use when users email records to themselves.  If left blank, the 'from' address will be from the server, or some other default, if relaying thru an SMTP server.

==ezp_exp_domain_avoid==

Domains that should not excluded as "Domain" config in the EZProxy export, even if ordinary rules would include them. See the [EzProxyExport EZProxy Export page].

==ezp_exp_resourceid_omit==

Particular databases that should be excluded from the EZProxy export, even if ordinary rules would include them.  See the [EzProxyExport EZProxy Export page].

==ezp_exp_default_group==

"Group" statement to output for ordinary default KB resources. See the [EzProxyExport EZProxy Export page].

==facets==

Set this to `true` to show the Metalib facets.  Make sure you've turned this option on in Metalib as well, or you'll get an error.

==group==

Metalib user groups (aka 'secondary affiliations').  This is an XML option, different from the normal configs.
                
             
  * `<group id="metalib_code">` : group code id used in Metalib, ordinarily in all caps.
  * `<display_name>` : What to call this group of users       
  * `<local_ip_range>`: IP range(s) associated with this group.  Users coming from this ip range will be able to search this group's resources without first having to login. Enter as either 144.37.`*`.`*`, with `*` as wildcard, or as 144.37.0.0-144.37.255.255, seperate mutliple entries by comma
  * `<ezp_exp_group>` For use with EZProxy export function, ezproxy config group to output for this Metalib secondary affiliation. See [EzProxyExport EZProxy Export page].
                
Example:
{{{                
  <groups>
    <group id="SCIENCE">
      <display_name>Science Library</display_name>
      <local_ip_range>201.2.4.*</local_ip_range>
    </group>
  </groups>
}}}

==holdings_links==

Specify individual databases that should show a link to 'holdings'. To show these links for _any_ database that has them, see [Configuration#show_all_holdings_links show_all_holdings_links].  Enter as:

{{{
<config name="holdings_links" pass="true" xml="true">
  <database metalib_id="JHU0001" />
  <database metalib_id="JHU0002" />
</config>
}}}

About this type of link:

Metalib IRDs have a field for 'Link to Records in Native Interface'.  In most cases, this is used to link to a library catalog so the user can check availability.  

If you have filled out this field in the IRD, Xerxes will display it, regardless of any other configuration settings in Metalib. Xerxes does not currently support real-time z39.50 look-up of holdings, as in the standard Metalib interface.  Xerxes also does not support the 'alternative' (off-campus) versions of these links.

==http_proxy_server==

The adress of a HTTP proxy tunnel (including port).  Set this if you need to route all outgoing Xerxes requests through a proxy.  Do not confuse this with [Configuration#proxy_server proxy_server] (e.g., ezproxy).

==http_proxy_username==

Username to authenticate again the HTTP Proxy.

==http_proxy_password==

Password to authenticate again the HTTP Proxy.

==http_use_curl==

Set this to `true` if you want Xerxes to use the PHP CURL libraries for outgoing requests.  Requires that the CURL libraries be installed on the server.  This is useful if you've disable remote file access.

==immediately_show_merged_results==

Set this to `false` if you want Xerxes to not immediately show the user the merged set of results.  Instead, it leaves the user at the search status page.  If you set this to false, contact David about customizing the `metasearch_hits.xsl` file.

==innovative_patron_api==

If [Configuration#authentication_source authentication_source] is set to `innovative`, then specify here the full URL to the server, and the Patron API port.  _INCLUDE) the trailing slash '/' at the end of the URL.
		
==innovative_patron_types==

Include here a white list of patron types allowed to use this system remotely: separate multiple entries by comma.  Leave blank if all users are allowed.

==ip_address==

IP adress associated with this Xerxes implementation. This is typically the IP address of the server running Xerxes, or at least one that is within your campus IP Range.  

This is particularly important in a consortium, or in a multi-campus Xerxes instance.  Metalib needs this to associate the correct knowledgebase with this Xerxes implementation.

==link_resolver_address==

Base URL of your link resolver

==link_target==

Tells Xerxes how to open link to external sites, particularly for full-text, holdigns, and OpenURL links. You can change this value to any valid HTML anchor target attribute value, for example:

  * *_self* -- causes the browser to open the links in the same window
  * *_blank* -- causes the browser to open the links in a new window.

==local_ip_range==

IP range(s) associated with your campus.  Users within these ranges will not be prompted for a login when searching Xerxes.  Enter as either 144.37.`*`.`*`, with `*` as wildcard, or as 144.37.0.0-144.37.255.255.  Separate multiple entries by comma.

==logout_url==

The URL Xerxes will send users after they logout.  Could be set to, for example, your library home page.  If left blank, then Xerxes returns users to its own homepage.

==marc_fields_brief==

MARC 9XX fields Xerxes should include in the brief results.  Xerxes includes all control and datafields 0XX-8XX by default in the brief results.  But since some database vendors (e.g., Ebsco and OCLC) include large amounts of data in locally-defined 9XX fields, incurring noticeable slow-downs in the brief results, Xerxes excludes them.  Unless, that is, you specify them here.

Enter MARCfields as a five character string consisting of 3 digit field code and 2 characters for ind1 and ind2.  Use # as a wildcard -- e.g., `948##` will fetch the 948, `9####` will fetch all 9XX fields.

==maximum_record_export_limit==

Maximum number of records allowed in an export.  Defaults to 1,000.  Be careful is setting it higher.

==metalib_address==

Full URL to your Metalib server, including the port. _DO NOT_ include the /X in the metalib address.

==metalib_username==

A valid Metalib Management (/M) interface username associated with the Metalib institute you want to use with Xerxes

==metalib_password==

The password of the above metalib_username.

==metalib_institute==

The Metalib institute you wish to associate with this Xerxes instance.

==normalize_query==

Setting this to `true` instructs Xerxes to (slightly) modify the user's query, sending it to Metalib in such a way as to support a limited number of Boolen OR or NOT operators in the search box itself.  Metalib does not naively support this, instead requiring that the drop-down be used, and then only supporting one OR or NOT.

This is *experimental* and is not guaranteed to work across all databases.  It seems to work well with Z39.50 resources, but might be interpreted in different ways by databases that use XML gateways or screen scrappers.

==original_record_links==

Specify those databases that should present a link to the record in the native interface.  The IRDs in the list must have a 'Link to Records in Native Interface'.    Enter as:

{{{
<config name="original_record_links" pass="true" xml="true">
  <database metalib_id="JHU0001" />
  <database metalib_id="JHU0002" />
</config>

}}}

Xerxes will always show a direct link to the native full-text if it is available.  This option, in contrast, tells Xerxes to show a link to the record in the native interface whether full-text is available or not.

The link appears in the full record page, together with other link options.  The link will appear on the brief results page _ONLY_ if (1) there is no full text link available, (2) there is no OpenURL link available, which is true if you set the IRD in Metalib to not show OpenURL links for this resource, (3) if the "original_record" link is both present _AND_ results in a link.

==proxy_server==

Enter the starting point URL of you proxy server.
                
  * *EZProxy*: Include the entire starting-point URL prefix, e.g., `http://ezproxy.library.edu/login?qurl=`. Xerxes will look to URL-encode the full-text link, so it is preferable to use `qurl` param 
                        
  * *WAM Proxy*: Enter in your catalog information with '{WAM}' as the domain/port wildcard;  e.g.,   http://{WAM}.catalog.library.edu

==records_per_page==

Enter the maximum number of records Xerxes should show per-page in the brief metasearch results.  The default is 10, mostly for performance reasons.  If you have fast hardware and relatively light usage, consider making this higher, however, since users will prefer having more records per page.
	
==rewrite==

Setting this to 'true' instructs Xerxes to create shorter, more stable-looking URLs.  This is advantageous, since these URLs will likely be bookmarked and shared by users.

Although turning this on will create the URLs, for your Web server to _handle_ them correctly, you need either Apache's mod_rewrite module or one of the various mod_rewite-like ISAPI modules available for IIS. 

See the demo/.htaccess file for specifications of the rewrite scheme.

==saved_records_per_page==

Maximum number of records to show on saved records page.  Default is 10.  This can go much higher than [Configuration#records_per_Page records_per_page], since the records are coming out of the local database.

==search_limit==

The number of databases that can be search simultaneously.  This should correspond to the limit you have configured in Metalib.

==search_progress_cap==

Number of second before Xerxes stops the search and merges available records. Note that this will not automatically change the animated search progress image, setting this higher will require a change in that display.

==secure_login==

Setting this to 'true' will cause Xerxes to force all logins through `https://`.  This is useful only for the local authentication options -- where Xerxes provides the login page itself -- and is largely unnecessary for remote authentication though CAS and Shibboleth.

==shib_username_header==

The HTTP header that xerxes will expect to find the Shiboleth username in. Defaults to REMOTE_USER, which seems to be what the Shib SP normally does. Can customize if needed. For even more flexible customization, see your `demo/config/shibboleth/shib_map.php` file.

==show_all_holdings_links==

Show links to holdings for all databases that have them.  See [Configuration#holdings_links holdings_link] for more information on 'holdings' links, and to specify that only specific databases show them.

==show_db_detail_search==

Set this to 'false' to not show a search box for the database on the individual database description page.

==sort_order_primary==

The initial sort orders for merged results. Default is `rank`.  This will be the default sort order when the user is first dropped into the merged results; valid values include:

  * rank
  * title
  * author
  * year
  * database


==sort_order_secondary==

The _secondary_ sort criteria for sorting merged results.  Valid values are the same as for [Configuration#sort_order_primary sort_order_primary].  In the event that two or more records have the same value for the primary sort, this will further sort the items.

Default here is `title`, as in Metalib, since setting it to `year` causes unusual reordering of the results in Metalib if users (manually) change their sort to something else and then go _back_ to rank.

==subcategories_include==

Include here a white list of subcategories that should be included in the subject page.  If left blank, Xerxes will include all subcategories.  This can be useful if you are transitioning from the standard Metalib interface to Xerxes, and want to follow the common Xerxes pattern of 'most useful' and 'also useful' subcategories, while keeping a topical list in the standard Metalib interface.

==template==

Set here the position and width of the sidebar.  Valid values include:

  * *yui-t1* -- 160 on left
  * *yui-t2* -- 180 on left
  * *xer-t5* -- 240 on left
  * *yui-t3* -- 300 on left
  * *yui-t4* -- 180 on right
  * *yui-t5* -- 240 on right
  * *yui-t6* -- 300 on right

Like [Configuration#document document] this controls default behavior in the YUI CSS Grids framework.  See `demo/css/xerxes-blue.css` for an example (xer-t5) for creating a different template.

==yahoo_id==

Set here the ID for the account that will access the Yahoo Spell Check API.  It doesn't hurt to leave this as `calstate`, since the usage limits are based on IP address, but better to get your own key from Yahoo 
		
==xerxes_brief_include_marc==

Set to `true` to include the original MARC-XML record in the XML response for the brief results page.  This is useful if you need to customized the brief results template to show data that Xerxes does not map to its own internal format.
		
==xerxes_full_include_marc==

Set to `true` to include the original MARC-XML record in the XML response for the full record page.  This is useful if you need to customized `xsl/record.xsl` to show data that Xerxes does not map to its own internal format.
		